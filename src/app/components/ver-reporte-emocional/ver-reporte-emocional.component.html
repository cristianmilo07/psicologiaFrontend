<div class="view-container" *ngIf="reporte">
  <div class="header-section">
    <button class="btn-back" (click)="volver()">â¬…ï¸ Volver</button>
    <h1 class="page-title">ğŸ‘ï¸ Reporte Emocional</h1>
    <button class="btn-pdf" (click)="descargarPDF()">ğŸ“„ Descargar PDF</button>
  </div>

  <div class="report-content">
    <!-- All the report sections in read-only format -->
    <div class="report-section">
      <h3 class="report-title">ğŸ§¾ 1. REPORTE EMOCIONAL</h3>
      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ“Œ Datos generales</h4>
        <div class="info-grid">
          <p><strong>Nombre del estudiante:</strong> {{ reporte.nombreEstudiante }}</p>
          <p><strong>Edad / Grado:</strong> {{ reporte.edadGrado }}</p>
          <p><strong>Fecha del reporte:</strong> {{ reporte.fechaReporte | date:'dd/MM/yyyy' }}</p>
          <p><strong>PsicÃ³loga responsable:</strong> {{ reporte.psicologaResponsable }}</p>
          <p><strong>Periodo evaluado:</strong> {{ reporte.periodoEvaluado }}</p>
        </div>
      </div>

      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ“Š Estado emocional general</h4>
        <div class="info-grid">
          <p><strong>ğŸ˜Š Estado emocional predominante:</strong> {{ reporte.estadoEmocionalPredominante }}</p>
          <p><strong>ğŸ§  RegulaciÃ³n emocional:</strong> {{ reporte.regulacionEmocional }}</p>
          <p><strong>ğŸ¤ Relaciones sociales:</strong> {{ reporte.relacionesSociales }}</p>
          <p><strong>ğŸ“š AdaptaciÃ³n escolar:</strong> {{ reporte.adaptacionEscolar }}</p>
        </div>
      </div>

      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ“ Observaciones psicolÃ³gicas</h4>
        <p>{{ reporte.observacionesPsicologicas }}</p>
      </div>

      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ¯ Recomendaciones generales</h4>
        <p>{{ reporte.recomendacionesGenerales }}</p>
      </div>
    </div>

    <!-- Continue with other sections -->
    <div class="report-section">
      <h3 class="report-title">ğŸ“‘ 2. REPORTE DETALLADO</h3>
      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ” EvaluaciÃ³n emocional</h4>
        <div class="info-grid">
          <p><strong>Emociones frecuentes:</strong> {{ reporte.emocionesFrecuentes }}</p>
          <p><strong>Nivel de autoestima:</strong> {{ reporte.nivelAutoestima }}</p>
          <p><strong>Manejo del estrÃ©s y frustraciÃ³n:</strong> {{ reporte.manejoEstresFrustracion }}</p>
        </div>
      </div>

      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Contexto familiar y social</h4>
        <div class="info-grid">
          <p><strong>Apoyo familiar:</strong> {{ reporte.apoyoFamiliar }}</p>
          <p><strong>Cambios recientes:</strong> {{ reporte.cambiosRecientes }}</p>
          <p><strong>RelaciÃ³n con autoridad:</strong> {{ reporte.relacionAutoridad }}</p>
        </div>
      </div>

      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ« Contexto acadÃ©mico</h4>
        <div class="info-grid">
          <p><strong>AtenciÃ³n y concentraciÃ³n:</strong> {{ reporte.atencionConcentracion }}</p>
          <p><strong>MotivaciÃ³n escolar:</strong> {{ reporte.motivacionEscolar }}</p>
          <p><strong>Conducta en aula:</strong> {{ reporte.conductaAula }}</p>
        </div>
      </div>

      <div class="report-subsection">
        <h4 class="subsection-title">ğŸ§  ConclusiÃ³n psicolÃ³gica</h4>
        <p>{{ reporte.conclusionPsicologica }}</p>
      </div>
    </div>

    <!-- Continue with remaining sections -->
    <div class="report-section">
      <h3 class="report-title">ğŸ”„ 3. SEGUIMIENTO PERSONALIZADO</h3>
      <div class="info-grid">
        <p><strong>Frecuencia sesiones:</strong> {{ reporte.frecuenciaSesiones }}</p>
        <p><strong>ObservaciÃ³n en aula:</strong> {{ reporte.observacionAula }}</p>
      </div>
      <p><strong>Objetivos:</strong> {{ reporte.objetivosSeguimiento }}</p>
      <p><strong>Estrategias:</strong> {{ reporte.estrategiasAplicadas }}</p>
      <p><strong>EvoluciÃ³n:</strong> {{ reporte.evolucion }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">ğŸ§© 4. RECURSOS Y ESTRATEGIAS</h3>
      <p><strong>Para el estudiante:</strong> {{ reporte.recursosEstudiante }}</p>
      <p><strong>Para docentes:</strong> {{ reporte.recursosDocentes }}</p>
      <p><strong>Para la familia:</strong> {{ reporte.recursosFamilia }}</p>
      <p><strong>Frase de cierre:</strong> {{ reporte.fraseCierre }}</p>
    </div>

    <!-- Additional sections -->
    <div class="report-section">
      <h3 class="report-title">2ï¸âƒ£ Estado Emocional Actual</h3>
      <table class="emotion-table">
        <tr><td>AlegrÃ­a</td><td>{{ reporte.alegria }}</td></tr>
        <tr><td>Tristeza</td><td>{{ reporte.tristeza }}</td></tr>
        <tr><td>Ansiedad</td><td>{{ reporte.ansiedad }}</td></tr>
        <tr><td>Enojo</td><td>{{ reporte.enojo }}</td></tr>
        <tr><td>Miedo</td><td>{{ reporte.miedo }}</td></tr>
      </table>
      <p><strong>ObservaciÃ³n breve:</strong> {{ reporte.observacionBreve }}</p>
    </div>

    <!-- Continue with other sections -->
    <div class="report-section">
      <h3 class="report-title">3ï¸âƒ£ RegulaciÃ³n Emocional</h3>
      <p><strong>Estado:</strong> {{ reporte.regulacionEmocionalNueva }}</p>
      <p><strong>DescripciÃ³n:</strong> {{ reporte.descripcionRegulacion }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">4ï¸âƒ£ Habilidades Sociales</h3>
      <p><strong>RelaciÃ³n con pares:</strong> {{ reporte.relacionPares }}</p>
      <p><strong>RelaciÃ³n con docentes:</strong> {{ reporte.relacionDocentes }}</p>
      <p><strong>Comentario:</strong> {{ reporte.comentarioHabilidades }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">5ï¸âƒ£ Comportamiento en el Entorno Escolar</h3>
      <p><strong>AtenciÃ³n en clase:</strong> {{ reporte.atencionClase }}</p>
      <p><strong>Cumplimiento de normas:</strong> {{ reporte.cumplimientoNormas }}</p>
      <p><strong>Manejo de frustraciÃ³n:</strong> {{ reporte.manejoFrustracion }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">6ï¸âƒ£ Fortalezas Emocionales</h3>
      <p>{{ reporte.fortalezas }}</p>
      <p><strong>Ejemplo:</strong> {{ reporte.ejemploFortalezas }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">7ï¸âƒ£ Dificultades Identificadas</h3>
      <p>{{ reporte.dificultades }}</p>
      <p><strong>Ejemplo:</strong> {{ reporte.ejemploDificultades }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">8ï¸âƒ£ Nivel de Riesgo Emocional</h3>
      <p><strong>Nivel:</strong> {{ reporte.nivelRiesgo }}</p>
      <p><strong>Nota profesional:</strong> {{ reporte.notaProfesional }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">9ï¸âƒ£ Recomendaciones</h3>
      <p><strong>Para estudiante:</strong> {{ reporte.recomendacionesEstudiante }}</p>
      <p><strong>Para colegio:</strong> {{ reporte.recomendacionesColegio }}</p>
      <p><strong>Para familia:</strong> {{ reporte.recomendacionesFamilia }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">ğŸ”„ 10ï¸âƒ£ Seguimiento</h3>
      <p><strong>Tipo:</strong> {{ reporte.seguimiento }}</p>
      <p><strong>ObservaciÃ³n:</strong> {{ reporte.observacionSeguimiento }}</p>
    </div>

    <div class="report-section">
      <h3 class="report-title">âœï¸ Firma profesional</h3>
      <p><strong>PsicÃ³loga/o:</strong> {{ reporte.firmaProfesional }}</p>
      <p><strong>Registro:</strong> {{ reporte.registroProfesional }}</p>
    </div>
  </div>
</div>

<div class="loading" *ngIf="loading">
  <p>Cargando reporte...</p>
</div>
